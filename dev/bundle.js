var B=libsodiumWrappers;dotenv.config();
(function(){function k(){this.m=this.g=void 0}k.prototype.init=function(){return q(this,function(){var a;return r(this,function(b){switch(b.label){case 0:return[4,B.ready];case 1:return b.l(),this.g=B,a=this,[4,A.F(this.g)];case 2:return a.m=b.l(),[2]}})})};k.prototype.A=function(){return void 0===this.g||void 0===this.m?!1:!0};k.prototype.G=function(){var a=Buffer.alloc(this.g.crypto_secretbox_NONCEBYTES);!0===this.A()&&this.g.randombytes_buf(a);return a};k.prototype.v=function(a,b){!0===this.A()&&
this.m.H(a,b)};k.prototype.encrypt=function(a,b,e){try{var c=void 0,f=this.G(),h=this.v(b.username,e),d=JSON.stringify(b);if("string"===typeof a||a instanceof String)return c=Buffer.from(this.g.crypto_aead_xchacha20poly1305_ietf_encrypt(a,d,null,f,h));console.log("unable to parse mesage as string");throw Error("unable to parse message as string");}catch(l){return console.error(l),-1}};k.prototype.decrypt=function(a,b,e){try{var c=this.v(b.username,e),f=JSON.stringify(b),h=this.g.crypto_aead_xchacha20poly1305_ietf_decrypt(null,
a,f,b.nonce,c);if(0!==h)throw Error("unable to decrypt text");return h}catch(d){return Error("cannot decipher text")}};return k})();
